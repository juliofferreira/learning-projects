{"ast":null,"code":"import _regeneratorRuntime from \"/home/user/cursos/java-script/react/testes/1976-react-testes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/user/cursos/java-script/react/testes/1976-react-testes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/user/cursos/java-script/react/testes/1976-react-testes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/user/cursos/java-script/react/testes/1976-react-testes/src/App.js\";\nimport React, { useEffect, useState } from 'react';\nimport Conta from './conta/Conta';\nimport Transacoes from './transacoes/Transacoes';\nimport api from './api';\nimport './App.css';\nexport var calcularNovoSaldo = function calcularNovoSaldo(valores, saldo) {\n  if (valores.transacao === 'deposito') {\n    return saldo + parseInt(valores.valor);\n  } else {\n    return saldo - parseInt(valores.valor);\n  }\n};\n\nfunction App() {\n  var _useState = useState(1000),\n      _useState2 = _slicedToArray(_useState, 2),\n      saldo = _useState2[0],\n      atualizarSaldo = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      transacoes = _useState4[0],\n      atualizarTransacoes = _useState4[1];\n\n  function carregarTransacoes() {\n    return _carregarTransacoes.apply(this, arguments);\n  }\n\n  function _carregarTransacoes() {\n    _carregarTransacoes = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var transacoes;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return api.listaTransacoes();\n\n            case 2:\n              transacoes = _context.sent;\n              atualizarTransacoes(transacoes);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _carregarTransacoes.apply(this, arguments);\n  }\n\n  function obterSaldo() {\n    return _obterSaldo.apply(this, arguments);\n  }\n\n  function _obterSaldo() {\n    _obterSaldo = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.t0 = atualizarSaldo;\n              _context2.next = 3;\n              return api.buscaSaldo();\n\n            case 3:\n              _context2.t1 = _context2.sent;\n              (0, _context2.t0)(_context2.t1);\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _obterSaldo.apply(this, arguments);\n  }\n\n  function realizarTransacao(valores) {\n    var novoSaldo = calcularNovoSaldo(valores, saldo);\n    api.atualizaSaldo(novoSaldo).catch(function (error) {\n      return console.error(error);\n    });\n    api.atualizaTransacoes(valores).catch(function (error) {\n      return console.error(error);\n    });\n    atualizarSaldo(novoSaldo);\n    atualizarTransacoes([valores]);\n  }\n\n  useEffect(function () {\n    obterSaldo();\n    carregarTransacoes();\n  }, [saldo]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"App-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, \"ByteBank\")), /*#__PURE__*/React.createElement(Conta, {\n    saldo: saldo,\n    realizarTransacao: realizarTransacao,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Transacoes, {\n    transacoes: transacoes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/user/cursos/java-script/react/testes/1976-react-testes/src/App.js"],"names":["React","useEffect","useState","Conta","Transacoes","api","calcularNovoSaldo","valores","saldo","transacao","parseInt","valor","App","atualizarSaldo","transacoes","atualizarTransacoes","carregarTransacoes","listaTransacoes","obterSaldo","buscaSaldo","realizarTransacao","novoSaldo","atualizaSaldo","catch","error","console","atualizaTransacoes"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAEA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AAEA,OAAO,WAAP;AAEA,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,OAAD,EAAUC,KAAV,EAAoB;AACnD,MAAID,OAAO,CAACE,SAAR,KAAsB,UAA1B,EAAsC;AACpC,WAAOD,KAAK,GAAGE,QAAQ,CAACH,OAAO,CAACI,KAAT,CAAvB;AACD,GAFD,MAEO;AACL,WAAOH,KAAK,GAAGE,QAAQ,CAACH,OAAO,CAACI,KAAT,CAAvB;AACD;AACF,CANM;;AAQP,SAASC,GAAT,GAAe;AAAA,kBACmBV,QAAQ,CAAC,IAAD,CAD3B;AAAA;AAAA,MACNM,KADM;AAAA,MACCK,cADD;;AAAA,mBAE6BX,QAAQ,CAAC,EAAD,CAFrC;AAAA;AAAA,MAENY,UAFM;AAAA,MAEMC,mBAFN;;AAAA,WAIEC,kBAJF;AAAA;AAAA;;AAAA;AAAA,mFAIb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAC2BX,GAAG,CAACY,eAAJ,EAD3B;;AAAA;AACQH,cAAAA,UADR;AAEEC,cAAAA,mBAAmB,CAACD,UAAD,CAAnB;;AAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAJa;AAAA;AAAA;;AAAA,WASEI,UATF;AAAA;AAAA;;AAAA;AAAA,2EASb;AAAA;AAAA;AAAA;AAAA;AAAA,6BACEL,cADF;AAAA;AAAA,qBACuBR,GAAG,CAACc,UAAJ,EADvB;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KATa;AAAA;AAAA;;AAab,WAASC,iBAAT,CAA2Bb,OAA3B,EAAoC;AAClC,QAAMc,SAAS,GAAGf,iBAAiB,CAACC,OAAD,EAAUC,KAAV,CAAnC;AAEAH,IAAAA,GAAG,CAACiB,aAAJ,CAAkBD,SAAlB,EAA6BE,KAA7B,CAAmC,UAACC,KAAD;AAAA,aAAWC,OAAO,CAACD,KAAR,CAAcA,KAAd,CAAX;AAAA,KAAnC;AACAnB,IAAAA,GAAG,CAACqB,kBAAJ,CAAuBnB,OAAvB,EAAgCgB,KAAhC,CAAsC,UAACC,KAAD;AAAA,aAAWC,OAAO,CAACD,KAAR,CAAcA,KAAd,CAAX;AAAA,KAAtC;AAEAX,IAAAA,cAAc,CAACQ,SAAD,CAAd;AACAN,IAAAA,mBAAmB,CAAC,CAACR,OAAD,CAAD,CAAnB;AACD;;AAEDN,EAAAA,SAAS,CAAC,YAAM;AACdiB,IAAAA,UAAU;AACVF,IAAAA,kBAAkB;AACnB,GAHQ,EAGN,CAACR,KAAD,CAHM,CAAT;AAKA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CADF,eAKE,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAEA,KAAd;AAAqB,IAAA,iBAAiB,EAAEY,iBAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,eAME,oBAAC,UAAD;AAAY,IAAA,UAAU,EAAEN,UAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CADF;AAUD;;AAED,eAAeF,GAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport Conta from './conta/Conta';\nimport Transacoes from './transacoes/Transacoes';\nimport api from './api';\n\nimport './App.css';\n\nexport const calcularNovoSaldo = (valores, saldo) => {\n  if (valores.transacao === 'deposito') {\n    return saldo + parseInt(valores.valor)\n  } else {\n    return saldo - parseInt(valores.valor);\n  }\n}\n\nfunction App() {\n  const [saldo, atualizarSaldo] = useState(1000);\n  const [transacoes, atualizarTransacoes] = useState([]);\n\n  async function carregarTransacoes() {\n    const transacoes = await api.listaTransacoes();\n    atualizarTransacoes(transacoes);\n  }\n\n  async function obterSaldo() {\n    atualizarSaldo(await api.buscaSaldo());\n  }\n\n  function realizarTransacao(valores) {  \n    const novoSaldo = calcularNovoSaldo(valores, saldo);\n\n    api.atualizaSaldo(novoSaldo).catch((error) => console.error(error))\n    api.atualizaTransacoes(valores).catch((error) => console.error(error))\n    \n    atualizarSaldo(novoSaldo);\n    atualizarTransacoes([valores]);\n  }\n\n  useEffect(() => {\n    obterSaldo();\n    carregarTransacoes();\n  }, [saldo])\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>ByteBank</h1>\n      </header>\n\n      <Conta saldo={saldo} realizarTransacao={realizarTransacao}/>\n      <Transacoes transacoes={transacoes} />\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}